import{X as t,k as v,S as i,r as l,o as x,c as b,d as c,w as m,M as p}from"./index-Dj8CxrJe.js";const s={getPageList(e={}){return t({url:"system/post/index",method:"get",params:e})},getList(e={}){return t({url:"system/post/list",method:"get",params:e})},getRecyclePageList(e={}){return t({url:"system/post/recycle",method:"get",params:e})},save(e={}){return t({url:"system/post/save",method:"post",data:e})},deletes(e){return t({url:"system/post/delete",method:"delete",data:e})},recoverys(e){return t({url:"system/post/recovery",method:"put",data:e})},realDeletes(e){return t({url:"system/post/realDelete",method:"delete",data:e})},update(e,n={}){return t({url:"system/post/update/"+e,method:"put",data:n})},numberOperation(e={}){return t({url:"system/post/numberOperation",method:"put",data:e})},changeStatus(e={}){return t({url:"system/post/changeStatus",method:"put",data:e})}},k={class:"ma-content-block lg:flex justify-between p-4"},D={name:"system:post"},I=Object.assign(D,{setup(e){const n=v(),h=async(o,u)=>{const a=await s.changeStatus({id:u,status:o});a.success&&p.success(a.message)},y=async(o,u)=>{const a=await s.numberOperation({id:u,numberName:"sort",numberValue:o});a.success&&p.success(a.message)},g=i({api:s.getPageList,recycleApi:s.getRecyclePageList,showIndex:!1,pageLayout:"fixed",rowSelection:{showCheckedAll:!0},operationColumn:!0,operationColumnWidth:200,add:{show:!0,api:s.save,auth:["system:post:save"]},edit:{show:!0,api:s.update,auth:["system:post:update"]},delete:{show:!0,api:s.deletes,auth:["system:post:delete"],realApi:s.realDeletes,realAuth:["system:post:realDeletes"]},recovery:{show:!0,api:s.recoverys,auth:["system:post:recovery"]}}),f=i([{title:"ID",dataIndex:"id",addDisplay:!1,editDisplay:!1,width:50,hide:!0},{title:"岗位名称",dataIndex:"name",search:!0,width:150,commonRules:[{required:!0,message:"岗位名称必填"}]},{title:"岗位标识",dataIndex:"code",search:!0,width:150,commonRules:[{required:!0,message:"岗位标识必填"}]},{title:"排序",dataIndex:"sort",formType:"input-number",addDefaultValue:1,width:180,min:0,max:1e3},{title:"状态",dataIndex:"status",search:!0,formType:"radio",dict:{name:"data_status",props:{label:"title",value:"key"}},addDefaultValue:"1",width:150},{title:"备注",dataIndex:"remark",hide:!0,formType:"textarea"},{title:"创建时间",dataIndex:"created_at",addDisplay:!1,editDisplay:!1,search:!0,formType:"range",width:180}]);return(o,u)=>{const a=l("a-input-number"),_=l("a-switch"),w=l("ma-crud");return x(),b("div",k,[c(w,{options:g,columns:f,ref_key:"crudRef",ref:n},{sort:m(({record:r})=>[c(a,{"default-value":r.sort,mode:"button",onChange:d=>y(d,r.id),min:0,max:1e3},null,8,["default-value","onChange"])]),status:m(({record:r})=>[c(_,{"checked-value":1,"unchecked-value":"2",onChange:d=>h(d,r.id),"default-checked":r.status==1},null,8,["onChange","default-checked"])]),_:1},8,["options","columns"])])}}});export{I as default};

import{k as c,c as h,l,d as t,w as o,f as e,r as i,o as g,t as f}from"./index-Dj8CxrJe.js";const k={class:"work-area p-5"},b={class:"ma-content-block shadow p-5"},V=l("div",{class:"text-2xl"},"简易模式",-1),w={class:"ma-content-block shadow p-5 mt-5 leading-10"},A=l("div",{class:"text-xl"},"身份信息",-1),T={class:"ma-content-block shadow p-5 mt-5 leading-10"},y=l("div",{class:"text-xl"},"生成identity",-1),U={class:"ma-content-block shadow p-5 mt-5"},B=l("div",{class:"text-2xl"},"复杂模式",-1),N={class:"ma-content-block shadow p-5 mt-5 leading-10"},P=l("div",{class:"text-xl"},"签名简介",-1),j={class:"ma-content-block shadow p-5 mt-5 leading-10"},C=l("div",{class:"text-xl"},"获取app id 和 app secret",-1),D={class:"ma-content-block shadow p-5 mt-5 leading-10"},I=l("div",{class:"text-xl"},"生成signature",-1),S={class:"ma-content-block shadow p-5 mt-5 leading-10"},$=l("div",{class:"text-xl"},"获取AccessToken",-1),E=l("div",null,"3. 请使用服务器端来做接口请求，客户端会出现跨域等问题。",-1),M={class:"mt-5"},z={__name:"signature",setup(O){const _=c(`{
    "app_id":"到后台应用管理查看app id",
    "app_secret":"到后台应用管理查看app secret",
    "sign_ver":"1.0",
    "timestamp":"当前系统时间戳"
}`),r=c(`
app_id=xxxx&app_secret=xxxxxxxxxx&sign_ver=1.0&timestamp=128097733
`),p=c(`
2d41751369f4daaf9dd869aefa0da1e4
`),m=c(`{
    "app_id":"xxxx",
    "signature":"2d41751369f4daaf9dd869aefa0da1e4",
    "timestamp":128097733
}`);return(v,d)=>{const a=i("a-tag"),u=i("a-breadcrumb-item"),x=i("a-breadcrumb"),n=i("ma-code-editor");return g(),h("div",k,[l("div",b,[V,l("div",w,[A,l("div",null,[t(a,{color:"blue"},{default:o(()=>[e(f(v.$title)+" API",1)]),_:1}),e(" 的简易模式在请求时需要携带 "),t(a,{color:"magenta"},{default:o(()=>[e("app_id")]),_:1}),e(" 和 "),t(a,{color:"magenta"},{default:o(()=>[e("identity")]),_:1}),e(" 认证参数 ")])]),l("div",T,[y,l("div",null,[e(" 只需要对 "),t(a,{color:"orangered"},{default:o(()=>[e("app id")]),_:1}),e(" 和 "),t(a,{color:"orangered"},{default:o(()=>[e("app secret")]),_:1}),e(" 进行 "),t(a,{color:"blue"},{default:o(()=>[e("MD5")]),_:1}),e(" 即可 ")])])]),l("div",U,[B,l("div",N,[P,l("div",null,[t(a,{color:"blue"},{default:o(()=>[e(f(v.$title)+" API",1)]),_:1}),e(" 的签名主要是用于获取身份令牌 "),t(a,{color:"red"},{default:o(()=>[e("AccessToken")]),_:1}),e(" 时所需必要认证参数 ")]),l("div",null,[e(" 在请求需要复杂认证接口的时候，系统会验证 "),t(a,{color:"red"},{default:o(()=>[e("AccessToken")]),_:1})]),l("div",null,[e(" 在请求获取 "),t(a,{color:"red"},{default:o(()=>[e("AccessToken")]),_:1}),e(" 的接口时候，服务器会对用户请求合法性的 "),t(a,{color:"purple"},{default:o(()=>[e("signature")]),_:1}),e(" 进行检查，以此来确定是否向用户返回 "),t(a,{color:"red"},{default:o(()=>[e("AccessToken")]),_:1})])]),l("div",j,[C,l("div",null,[l("div",null,[e(" 进入后台管理系统后，依次点击以下导航 "),t(x,null,{default:o(()=>[t(u,null,{default:o(()=>[t(a,null,{default:o(()=>[e("数据")]),_:1})]),_:1}),t(u,null,{default:o(()=>[t(a,null,{default:o(()=>[e("应用中心")]),_:1})]),_:1}),t(u,null,{default:o(()=>[t(a,null,{default:o(()=>[e("应用管理")]),_:1})]),_:1})]),_:1})]),e(" 获取 "),t(a,{color:"magenta"},{default:o(()=>[e("app id")]),_:1}),e(" 和 "),t(a,{color:"magenta"},{default:o(()=>[e("app secret")]),_:1})])]),l("div",D,[I,l("div",null,[l("div",null,[e(" 一、组合签名数据格式 "),t(n,{modelValue:_.value,"onUpdate:modelValue":d[0]||(d[0]=s=>_.value=s),height:"120",readonly:""},null,8,["modelValue"])]),l("div",null,[e(" 二、根据字段名降序排序，组合http原始字符串 "),t(n,{modelValue:r.value,"onUpdate:modelValue":d[1]||(d[1]=s=>r.value=s),height:"60",readonly:""},null,8,["modelValue"])]),l("div",null,[e(" 三、md5 http原始字符串，完成生成 "),t(a,{color:"purple"},{default:o(()=>[e("signature")]),_:1}),t(n,{modelValue:p.value,"onUpdate:modelValue":d[2]||(d[2]=s=>p.value=s),height:"60",readonly:""},null,8,["modelValue"])])])]),l("div",S,[$,l("div",null,[l("div",null,[e("1. "),t(a,{color:"red"},{default:o(()=>[e("AccessToken")]),_:1}),e(" 有效期只有 7200 秒，获取后请缓存到本地")]),l("div",null,[e("2. 有效期内再次请求的 "),t(a,{color:"red"},{default:o(()=>[e("AccessToken")]),_:1}),e(" 会导致之前请求的全部失效")]),E,l("div",null,[e(" 4. 获取 "),t(a,{color:"red"},{default:o(()=>[e("AccessToken")]),_:1}),e(" 地址： "),t(a,{color:"green"},{default:o(()=>[e("http://你的服务器地址/api/v1/getAccessToken")]),_:1}),e(" 请求方法： "),t(a,{color:"pinkpurple"},{default:o(()=>[e("POST")]),_:1})]),l("div",M,[e(" 组合完整请求参数 "),t(n,{modelValue:m.value,"onUpdate:modelValue":d[3]||(d[3]=s=>m.value=s),height:"100",readonly:""},null,8,["modelValue"])])])])])])}}};export{z as default};

import{r as L,o as s,c as o,g as p,i as n,e as l,W as g,l as e,F as v,h as y,w as x,f as b,t as a,a0 as A,a1 as f}from"./index-Dj8CxrJe.js";const j={class:"h-auto relative mt-8 sm:mt-0 border border-gray-150 dark:border-gray-600 hover:border-primary-500 dark:hover:border-gray-400 rounded-md top-0 hover:shadow-md hover:-top-1 dark:shadow-gray-600 transition-all duration-300 group overflow-hidden"},C={key:0,class:"absolute z-10 w-auto bg-red-600 text-white px-5 origin-center rotate-45 -right-5 top-2.5"},O={key:1,class:"absolute z-10 w-32 text-center bg-lime-600 text-white px-5 origin-center rotate-45 -right-7 top-6"},$={key:2,class:"absolute z-10 w-auto bg-green-600 text-white px-5 origin-center rotate-45 -right-6 top-3.5 text-sm"},S=["onClick"],B={class:"relative"},I=["src"],q={class:"absolute bottom-2 right-2 space-x-2"},D={class:"p-3 pb-2"},N={class:"grid-cols-2 grid"},z={class:"text-sm"},V=["onClick"],E={class:"text-xs leading-5 text-gray-500 dark:text-gray-400 text-right"},F={class:"text-xs mt-1 text-gray-500 dark:text-gray-400 truncate"},U={class:"text-xs mt-5 grid grid-cols-2"},M={class:"leading-6 text-gray-700 dark:text-gray-300"},T={class:"hover:underline"},W={class:"text-right"},G={key:1},H={class:"flex items-center justify-end leading-6"},J={key:0,class:"line-through text-gray-400"},K={class:"ml-2 text-emerald-700"},P={key:2},Q={class:"flex items-center justify-end leading-6"},R={key:0,class:"line-through text-gray-400"},X={class:"ml-2 text-blue-600"},tt={__name:"app",props:{appList:Array,myAppList:Array,localInstallList:Object,isOnlyShowLocalApp:Boolean},emits:["onOpenDetail"],setup(h,{emit:k}){const r=h,m=k,_=d=>{m("onOpenDetail",d)},w=(d,u)=>{const i=`${d}/${u}`;return!g.isUndefined(r.localInstallList[i])&&r.localInstallList[i].status};return(d,u)=>{const i=L("a-tag");return s(!0),o(v,null,p(r.appList,(t,Y)=>(s(),o("div",j,[h.myAppList.includes(t.identifier)&&!r.isOnlyShowLocalApp?(s(),o("div",C," 已购买 ")):n("",!0),w(t.space,t.identifier)&&!r.isOnlyShowLocalApp?(s(),o("div",O," 已安装 ")):n("",!0),r.isOnlyShowLocalApp&&!l(g.isUndefined)(r.localInstallList[`${t.space}/${t.identifier}`])?(s(),o("div",$," 本地应用 ")):n("",!0),e("a",{class:"h-44 w-full",href:"javascript:",onClick:c=>_(t)},[e("div",B,[e("img",{class:"!rounded-b-none !rounded-t-md pointer-events-none w-full object-cover sm:rounded-md h-48 transform transition-transform duration-200 group-hover:scale-105",src:t.homepage[0]},null,8,I),e("div",q,[(s(!0),o(v,null,p(t.tags,c=>(s(),y(i,{color:c.color==="primary"?"arcoblue":c.color},{default:x(()=>[b(a(c.name),1)]),_:2},1032,["color"]))),256))])])],8,S),e("div",D,[e("div",N,[e("div",z,[e("a",{class:"hover:underline",href:"javascript:",onClick:c=>_(t)},a(t.name),9,V)]),e("div",E,a(`${l(A)(t.created_at).fromNow()}更新`),1)]),e("div",F,a(t.description),1),e("div",U,[e("div",M,[e("span",T,a(t.created_by),1)]),e("div",W,[t.auth.type===0?(s(),y(i,{key:0,color:"green"},{default:x(()=>[b("免费")]),_:1})):t.auth.type===1?(s(),o("div",G,[e("div",H,[t.auth.integral_discount!=="0.00"?(s(),o("div",J,a(t.auth.integral_quota)+" 积分",1)):n("",!0),e("div",K,a(l(f)(t.auth.integral_discount,t.auth.integral_quota))+" 积分",1)])])):t.auth.type===2?(s(),o("div",P,[e("div",Q,[t.auth.basic_discount!=="0.00"?(s(),o("div",R,"￥"+a(t.auth.basic_quota),1)):n("",!0),e("div",X,"￥"+a(l(f)(t.auth.basic_discount,t.auth.basic_quota)),1)])])):n("",!0)])])])]))),256)}}};export{tt as default};
